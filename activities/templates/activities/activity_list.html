{% extends "base.html" %}
{% load static %}

{% block title %}Activités - AirLibre{% endblock %}

{% block hero %}
<!-- Hero Section plus petit pour les pages de liste -->
<section class="hero-section">
    <div class="container">
        <div class="hero-content text-center">
            <h1 class="hero-title">
                <i class="fas fa-hiking me-3"></i>
                Nos Activités à venir
            </h1>
            <p class="hero-subtitle">
                Découvrez notre sélection d'aventures en nature
            </p>
        </div>
    </div>
</section>
{% endblock %}

{% block content %}
<!-- Filtres et contrôles -->
<div class="filters-card fade-in-up">
    <h2 class="text-center mb-4">
        <i class="fas fa-calendar-alt me-2 text-success"></i>
        Explorer les Activités
    </h2>

    <!-- Filtre par catégorie -->
    <div class="row justify-content-center">
        <div class="col-md-6 mb-4">
            <form class="category-filter-form">
                <div class="mb-3 d-flex align-items-center justify-content-space-between">
                    <label for="{{ form.category.id_for_label }}" class="me-3">{{ form.category.label }}:</label>
                    {{ form.category }}
                </div>

                <div class="action-buttons ms-3">
                    <button type="submit" name="scoop" value="all"
                            class="btn btn-details me-2 {% if scoop == 'all' %}active{% endif %}">
                        <i class="fas fa-list-ul me-1"></i> Toutes
                    </button>
                    <button type="submit" name="scoop" value="mine"
                            class="btn btn-details me-2 {% if scoop == 'mine' %}active{% endif %}">
                        <i class="fas fa-user-cog me-1"></i> Mes activités
                    </button>
                    <button type="submit" name="scoop" value="inscrit"
                            class="btn btn-details {% if scoop == 'inscrit' %}active{% endif %}">
                        <i class="fas fa-user-check me-1"></i> Je suis inscrit
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>



<!-- Liste des activités -->
<div class="row">
    {% if activities %}
    {% for activity in activities %}
    <div class="col-lg-4 col-md-6">
        <div class="activity-card fade-in-up">
            <div class="card-header">
                <h3 class="activity-title">
                    <i class="fas fa-mountain me-2"></i>
                    {{ activity.title }}
                </h3>
                <div class="activity-meta">
                    <span class="badge badge-primary">{{ activity.category }}</span>
                </div>
            </div>
            <div class="card-body">
               

                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <div>
                        <strong>Lieu:</strong> {{ activity.location_city }}
                    </div>
                </div>

                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-tag"></i>
                    </div>
                    <div>
                        <strong>Date:</strong> {{ activity.start_time }}
                    </div>
                </div>

                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div>
                        <strong>Propriétaire:</strong> {{ activity.proposer.username }}
                    </div>
                </div>

                <div class="text-center mt-3">
                    <a href="{% url 'activity_detail' activity.id %}" class="btn btn-details">
                        <i class="fas fa-eye me-2"></i>
                        Voir les détails
                    </a>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
    {% else %}
    <div class="col-12 text-center mt-4">
        <div class="alert">
            <i class="fas fa-info-circle fa-2x mb-3"></i>
            <h4>Aucune activité disponible</h4>
            <p>Revenez bientôt pour découvrir nos nouvelles aventures en plein air.</p>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}